<script>
// AdStira Ads Manager - MULTIPLE BANNERS VERSION
class AdStiraRevenueManager {
    constructor() {
        this.adsEnabled = true;
        this.adCounter = 0;
        this.adContainer = document.getElementById('adContainer');
        this.bannerCounter = 0;
    }

    // Show 4 ADS after each question
    showQuadAds() {
        if (!this.adsEnabled) return;
        
        this.adCounter++;
        console.log(`ðŸŽ¯ Showing 4 Ads - Set #${this.adCounter}`);
        
        // Clear previous ads first
        this.clearAds();
        
        // Show SmartLink
        this.showSmallSmartLink();
        
        // Show FIRST Banner immediately
        this.showBannerAd();
        
        // Show SECOND Banner after 10 seconds
        setTimeout(() => {
            this.showBannerAd();
        }, 10000);

        // Show Video Ad after 15 seconds
        setTimeout(() => {
            this.showVideoAd();
        }, 15000);

        // Show Push Ad after 20 seconds
        setTimeout(() => {
            this.showPushAd();
        }, 20000);
    }

    showSmallSmartLink() {
        console.log('ðŸ”„ Showing Small SmartLink');
        
        // Small embedded iframe
        const smartLinkHTML = `
            <div style="position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 350px; height: 250px; background: white; z-index: 10000; border-radius: 10px; box-shadow: 0 0 20px rgba(0,0,0,0.3); padding: 15px;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                    <h4 style="margin: 0; color: #333;">Special Offer</h4>
                    <button onclick="this.parentElement.parentElement.parentElement.remove()" style="background: none; border: none; font-size: 18px; cursor: pointer; color: #666;">Ã—</button>
                </div>
                <iframe src="https://www.effectivegatecpm.com/h8ftnbwz7j?key=23a91a54de2595d8217cf1f83ede4456" 
                        style="width: 100%; height: 180px; border: none; border-radius: 5px;"></iframe>
            </div>
        `;
        this.adContainer.innerHTML += smartLinkHTML;
        
        // Auto close after 8 seconds
        setTimeout(() => {
            const smartLinkDiv = this.adContainer.querySelector('div');
            if (smartLinkDiv) {
                smartLinkDiv.remove();
            }
        }, 8000);
    }

    showBannerAd() {
        this.bannerCounter++;
        console.log(`ðŸ“º Showing Banner Ad #${this.bannerCounter}`);
        
        // DIFFERENT BANNER CODES - Rotation
        const bannerCodes = [
            {
                key: '62dae259741887f42ba133aea9ce8028',
                src: '//www.highperformanceformat.com/62dae259741887f42ba133aea9ce8028/invoke.js'
            },
            {
                key: 'a6f123456789', // Different key (example)
                src: '//www.highperformanceformat.com/a6f123456789/invoke.js'
            }
        ];
        
        const currentBanner = bannerCodes[this.bannerCounter % bannerCodes.length];
        
        const bannerHTML = `
            <div class="banner-ad-${this.bannerCounter}" style="position: fixed; bottom: 0; left: 0; width: 100%; background: white; text-align: center; padding: 10px; z-index: 9999; border-top: 2px solid #007bff;">
                <div id="banner-${this.bannerCounter}">
                    <script type="text/javascript">
                        atOptions = {
                            'key' : '${currentBanner.key}',
                            'format' : 'iframe',
                            'height' : 60,
                            'width' : 468,
                            'params' : {}
                        };
                    </script>
                    <script type="text/javascript" src="${currentBanner.src}"></script>
                </div>
                <div style="margin-top: 5px; font-size: 12px; color: #666;">
                    Banner ${this.bannerCounter} - Earn Money âœ“
                </div>
            </div>
        `;
        this.adContainer.innerHTML += bannerHTML;
        
        // Auto refresh this banner after 15 seconds
        setTimeout(() => {
            const oldBanner = document.querySelector(`.banner-ad-${this.bannerCounter}`);
            if (oldBanner) {
                oldBanner.remove();
                this.showBannerAd(); // Show new banner
            }
        }, 15000);
    }

    showVideoAd() {
        console.log('ðŸŽ¥ Showing Video Ad');
        const videoHTML = `
            <div class="video-ad" style="position: fixed; top: 20px; right: 20px; z-index: 9998; background: white; padding: 15px; border-radius: 10px; box-shadow: 0 0 20px rgba(0,0,0,0.3);">
                <div style="width: 300px; height: 250px; background: linear-gradient(45deg, #ff6b6b, #feca57); display: flex; align-items: center; justify-content: center; color: white; border-radius: 8px;">
                    <div style="text-align: center;">
                        <div style="font-size: 24px; margin-bottom: 10px;">ðŸŽ¬</div>
                        <div style="font-weight: bold;">Video Ad</div>
                        <div style="font-size: 12px; margin-top: 5px;">Watch & Earn Money</div>
                    </div>
                </div>
            </div>
        `;
        this.adContainer.innerHTML += videoHTML;
    }

    showPushAd() {
        console.log('ðŸ”” Showing Push Ad');
        const pushHTML = `
            <div class="push-ad" style="position: fixed; top: 20px; left: 20px; z-index: 9998; background: white; padding: 15px; border-radius: 10px; box-shadow: 0 0 20px rgba(0,0,0,0.3); min-width: 250px;">
                <div style="display: flex; align-items: center; gap: 10px;">
                    <div style="width: 40px; height: 40px; background: #007bff; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">$$</div>
                    <div>
                        <div style="font-weight: bold; color: #333;">Earn Money Alert</div>
                        <div style="font-size: 12px; color: #666;">Complete offers to earn!</div>
                    </div>
                </div>
            </div>
        `;
        this.adContainer.innerHTML += pushHTML;
    }

    // Clear all previous ads
    clearAds() {
        if (this.adContainer) {
            // Keep only the current banner if exists
            const currentBanners = this.adContainer.querySelectorAll('[class*="banner-ad-"]');
            currentBanners.forEach(banner => {
                if (!banner.className.includes(this.bannerCounter)) {
                    banner.remove();
                }
            });
        }
    }
}

// Global ad manager
const adManager = new AdStiraRevenueManager();

// Auto show ads when questions page loads
window.addEventListener('load', function() {
    setTimeout(() => {
        console.log('ðŸ”„ Showing initial ads on questions page');
        adManager.showQuadAds();
    }, 2000);
});

// Show ads after each question
function submitAnswer() {
    console.log('âœ… Answer submitted - Showing ads');
    
    // Show new ads after answer
    setTimeout(() => {
        adManager.showQuadAds();
    }, 1000);
}
</script>
