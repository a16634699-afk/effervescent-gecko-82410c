<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Answer Questions - QuickEarn PK</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script>
</head>
<body>
    <div class="background-animation"></div>
    
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">
                <div class="logo-icon">ðŸ’°</div>
                <h2>QuickEarn PK</h2>
            </div>
            <div class="nav-links">
                <a href="index.html" class="nav-link">Home</a>
                <a href="questions.html" class="nav-link active">Earn Money</a>
                <a href="profile.html" class="nav-link">Withdraw</a>
                <span class="balance-badge" id="userBalance">0 PKR</span>
            </div>
        </div>
    </nav>

    <div class="container">
        <div id="questionContainer" class="question-container">
            <div class="timer-container">
                <div class="timer" id="timer">10</div>
                <div class="timer-seconds">seconds remaining</div>
            </div>
            
            <h2 id="questionText">Loading question...</h2>
            
            <div class="options" id="optionsContainer">
                <!-- Options will load here -->
            </div>
            
            <button onclick="submitAnswer()" id="submitBtn" disabled class="btn btn-primary">
                Submit Answer
            </button>

            <div class="progress-text">
                Question <span id="currentQ">1</span> of 20 | 
                Earned: <span id="earnedSoFar">0</span> PKR
            </div>
        </div>
    </div>

    <!-- AD CONTAINER -->
    <div id="adContainer"></div>

    <script src="firebase-config.js"></script>
    <script src="questions.js"></script>

    <!-- COMPLETE AD SYSTEM FOR QUESTIONS PAGE -->
    <script>
    // AdStira Ads Manager - QUESTIONS PAGE VERSION
    class AdStiraRevenueManager {
        constructor() {
            this.adClientId = "62dae259741887f42ba133aea9ce8028";
            this.adsEnabled = true;
            this.adCounter = 0;
            this.dailyRevenue = 0;
        }

        initAdStira() {
            if (!this.adsEnabled) return;
            console.log('âœ… AdStira Initialized - Questions Page');
        }

        // Show 4 ADS after each question
        showQuadAds() {
            if (!this.adsEnabled) return;
            
            this.adCounter++;
            console.log(`ðŸŽ¯ Showing 4 Ads - Set #${this.adCounter} (After Question)`);
            
            // Show interstitial ad
            this.showInterstitialAd();
            
            // Show banner ad after 5 seconds
            setTimeout(() => {
                this.showBannerAd();
            }, 5000);

            // Show video ad after 10 seconds
            setTimeout(() => {
                this.showVideoAd();
            }, 10000);

            // Show push ad after 15 seconds
            setTimeout(() => {
                this.showPushAd();
            }, 15000);
        }

        showInterstitialAd() {
            console.log('ðŸ”„ Showing Interstitial Ad');
            // SMARTLINK AD - New tab mein open karein
            setTimeout(() => {
                window.open('https://www.effectivegatecpm.com/h8ftnbwz7j?key=23a91a54de2595d8217cf1f83ede4456', '_blank', 'noopener,noreferrer');
            }, 1000);
        }

        showBannerAd() {
            console.log('ðŸ“º Showing Banner Ad');
            // BANNER AD - Bottom mein
            const bannerHTML = `
                <div style="position: fixed; bottom: 0; width: 100%; text-align: center; background: white; z-index: 9999; padding: 10px; border-top: 2px solid #007bff;">
                    <script type="text/javascript">
                        atOptions = {
                            'key' : '62dae259741887f42ba133aea9ce8028',
                            'format' : 'iframe',
                            'height' : 60,
                            'width' : 468,
                            'params' : {}
                        };
                    </script>
                    <script type="text/javascript" src="//www.highperformanceformat.com/62dae259741887f42ba133aea9ce8028/invoke.js"></script>
                </div>
            `;
            document.getElementById('adContainer').innerHTML += bannerHTML;
        }

        showVideoAd() {
            console.log('ðŸŽ¥ Showing Video Ad');
            // SOCIAL BAR AD
            const videoHTML = `
                <div style="position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 10000; background: white; padding: 20px; border-radius: 10px;">
                    <script type='text/javascript' src='//pl28138593.effectivegatecpm.com/c1/7a/5b/c17a5b3f2bb47df5b6ce9a99978a3b7c.js'></script>
                </div>
            `;
            document.getElementById('adContainer').innerHTML += videoHTML;
        }

        showPushAd() {
            console.log('ðŸ”” Showing Push Ad');
            // NATIVE BANNER AD
            const nativeHTML = `
                <div style="position: fixed; top: 10px; right: 10px; z-index: 9998; background: white; padding: 15px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.3);">
                    <script async="async" data-cfasync="false" src="//pl28140114.effectivegatecpm.com/b10b0a2549e0366bc6317a6d5862501e/invoke.js"></script>
                    <div id="container-b10b0a2549e0366bc6317a6d5862501e"></div>
                </div>
            `;
            document.getElementById('adContainer').innerHTML += nativeHTML;
        }

        // Clear previous ads
        clearAds() {
            document.getElementById('adContainer').innerHTML = '';
        }
    }

    // Global ad manager
    const adManager = new AdStiraRevenueManager();
    adManager.initAdStira();

    // Auto show ads when questions page loads
    window.addEventListener('load', function() {
        setTimeout(() => {
            console.log('ðŸ”„ Showing initial ads on questions page');
            adManager.showQuadAds();
        }, 2000);
    });

    // Modified submitAnswer function to show ads after each question
    function submitAnswer() {
        // Pehle existing submitAnswer logic (aapka original code)
        console.log('âœ… Answer submitted - Showing ads');
        
        // Clear previous ads
        adManager.clearAds();
        
        // Show new ads after 1 second
        setTimeout(() => {
            adManager.showQuadAds();
        }, 1000);
        
        // Yahan aapka existing question logic aayega
        // nextQuestion() ya jo bhi function hai
    }

    // Agar aapke paas nextQuestion function hai toh usme bhi ads add karein
    function nextQuestion() {
        console.log('ðŸ”„ Loading next question - Clearing old ads');
        adManager.clearAds();
        
        // Next question load hone ke baad
        setTimeout(() => {
            adManager.showQuadAds();
        }, 2000);
    }

    // Timer end par bhi ads show karein
    function onTimerEnd() {
        console.log('â° Timer ended - Showing ads');
        adManager.clearAds();
        setTimeout(() => {
            adManager.showQuadAds();
        }, 500);
    }

    console.log('âœ… Questions Page Ad System Loaded');
    </script>
</body>
</html>
